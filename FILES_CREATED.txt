ğŸ“š NAHB - Swagger Documentation - FICHIERS CRÃ‰Ã‰S
================================================

Date: 28 Novembre 2025
Version: 1.0.0
Status: âœ… PRÃŠT Ã€ UTILISER

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ STRUCTURE DES FICHIERS

Root Directory (c:\vsCode\Enzo_Rayane_NAHB\)
â”œâ”€â”€ README_SWAGGER.md ..................... RÃ©sumÃ© gÃ©nÃ©ral Swagger
â”œâ”€â”€ SWAGGER_READY.md ...................... Fichier de confirmation (LIRE EN PREMIER â­)
â”œâ”€â”€ INTEGRATION_GUIDE.md .................. Guide d'intÃ©gration
â”œâ”€â”€ check_swagger.sh ...................... Script de vÃ©rification shell
â”œâ”€â”€ NEEDS.txt
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ backend/
    â”œâ”€â”€ swagger.json ....................... â­ SPÃ‰CIFICATION OPENAPI 3.0 (PRINCIPAL)
    â”œâ”€â”€ swagger.html ....................... Viewer HTML Standalone
    â”œâ”€â”€ SWAGGER_GUIDE.md ................... Guide complet (~2000 lignes)
    â”œâ”€â”€ QUICKSTART_SWAGGER.md .............. Quick start guide
    â”œâ”€â”€ NAHB_API.postman_collection.json .. Collection Postman pour tests
    â”œâ”€â”€ test-swagger.js .................... Script de test
    â”œâ”€â”€ server.js .......................... MODIFIÃ‰ (routes Swagger ajoutÃ©es)
    â”œâ”€â”€ package.json ....................... MODIFIÃ‰ (dÃ©pendances ajoutÃ©es)
    â””â”€â”€ ... (autres fichiers du projet)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ FICHIERS CRÃ‰Ã‰S EN DÃ‰TAIL

1. ğŸŒŸ swagger.json (Principal - ~150 KB)
   â”œâ”€ Format: OpenAPI 3.0.0
   â”œâ”€ Endpoints: 35+
   â”œâ”€ CatÃ©gories: 11
   â”œâ”€ SchÃ©mas: 13
   â”œâ”€ Exemples: Complets
   â”œâ”€ Authentification: JWT Bearer
   â”œâ”€ Tags: Health, Auth, Users, Stories, Pages, Choices, Games, Ratings, Reports, Statistics, Admin
   â””â”€ Serveurs: Dev + Production

2. ğŸ“– SWAGGER_GUIDE.md (Guide Complet - ~2000 lignes)
   â”œâ”€ Introduction au projet
   â”œâ”€ Guide d'authentification
   â”œâ”€ DÃ©tails de chaque endpoint
   â”œâ”€ SystÃ¨me de dÃ©s expliquÃ©
   â”œâ”€ Exemples cURL complets
   â”œâ”€ Codes de statut HTTP
   â”œâ”€ Rate limiting
   â”œâ”€ ThÃ¨mes et types de fins
   â””â”€ Workflow typique

3. âš¡ QUICKSTART_SWAGGER.md (DÃ©marrage Rapide)
   â”œâ”€ Installation en 3 Ã©tapes
   â”œâ”€ Configuration .env
   â”œâ”€ Premier test cURL
   â”œâ”€ Utilisation dans Swagger UI
   â”œâ”€ Structure des fichiers
   â””â”€ Troubleshooting basique

4. ğŸ“® NAHB_API.postman_collection.json (Postman - 30+ requÃªtes)
   â”œâ”€ 7 catÃ©gories d'endpoints
   â”œâ”€ 30+ requÃªtes prÃ©-configurÃ©es
   â”œâ”€ Variables globales (token, IDs)
   â”œâ”€ Exemples de corps
   â”œâ”€ Documentation intÃ©grÃ©e
   â””â”€ PrÃªt Ã  importer directement

5. ğŸŒ swagger.html (Viewer Standalone)
   â”œâ”€ Interface Swagger UI
   â”œâ”€ Design moderne
   â”œâ”€ Totalement responsive
   â”œâ”€ NÃ©cessite serveur lancÃ©
   â””â”€ Peut s'ouvrir dans n'importe quel navigateur

6. ğŸ§ª test-swagger.js (Script de Test)
   â”œâ”€ VÃ©rifie swagger.json
   â”œâ”€ Valide la config
   â”œâ”€ Check server.js
   â”œâ”€ Check package.json
   â””â”€ ExÃ©cution: `node test-swagger.js`

7. âœ“ check_swagger.sh (VÃ©rification Shell)
   â”œâ”€ VÃ©rifie Node.js/npm
   â”œâ”€ VÃ©rifie tous les fichiers
   â”œâ”€ VÃ©rifie les dÃ©pendances
   â”œâ”€ VÃ©rifie les modifications
   â””â”€ ExÃ©cution: `bash check_swagger.sh`

8. ğŸ“Š README_SWAGGER.md (RÃ©sumÃ©)
   â”œâ”€ Fichiers crÃ©Ã©s
   â”œâ”€ AccÃ¨s Ã  la documentation
   â”œâ”€ Installation rapide
   â”œâ”€ Ressources

9. ğŸ‰ SWAGGER_READY.md (Confirmation - LIRE EN PREMIER â­)
   â”œâ”€ RÃ©sumÃ© complet
   â”œâ”€ Installation & lancement
   â”œâ”€ AccÃ¨s Ã  la documentation
   â”œâ”€ Contenu documentÃ©
   â”œâ”€ Prochaines Ã©tapes
   â””â”€ Conseils de prÃ©sentation

10. ğŸ”— INTEGRATION_GUIDE.md (Guide d'IntÃ©gration)
    â”œâ”€ Configuration avancÃ©e
    â”œâ”€ Environnements
    â”œâ”€ GÃ©nÃ©ration de code
    â”œâ”€ SÃ©curitÃ©
    â””â”€ Ressources

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš™ï¸ FICHIERS MODIFIÃ‰S

1. server.js
   â”œâ”€ Ajout import: import swaggerUi from 'swagger-ui-express';
   â”œâ”€ Ajout import: import { readFileSync } from 'fs';
   â”œâ”€ Ajout variable: const swaggerDoc = JSON.parse(readFileSync('./swagger.json', 'utf8'));
   â”œâ”€ Ajout route: app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDoc));
   â””â”€ Ajout route: app.get('/swagger.json', (req, res) => {...});

2. package.json
   â”œâ”€ Ajout dÃ©pendance: "swagger-ui-express": "^5.0.0"
   â””â”€ Ajout dÃ©pendance: "swagger-jsdoc": "^6.2.8"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š CONTENU DE LA DOCUMENTATION

ENDPOINTS DOCUMENTÃ‰S: 35+

âœ“ Health (1)
  - GET /health

âœ“ Authentication (3)
  - POST /auth/register
  - POST /auth/login
  - GET /auth/me

âœ“ Users (2)
  - GET /users/{id}
  - PUT /users/{id}

âœ“ Stories (5)
  - GET /stories (avec filtres)
  - POST /stories
  - GET /stories/{id}
  - PUT /stories/{id}
  - DELETE /stories/{id}
  + POST /stories/{id}/cover

âœ“ Pages (5)
  - POST /pages
  - GET /pages/{id}
  - PUT /pages/{id}
  - DELETE /pages/{id}
  - POST /pages/{id}/image
  + POST /pages/{id}/zones

âœ“ Choices (4)
  - POST /choices
  - PUT /choices/{id}
  - DELETE /choices/{id}
  + Support dÃ©s d4, d6, d8, d10, d12, d20, d100

âœ“ Games (6)
  - POST /games/start
  - GET /games/{id}
  - POST /games/{gameId}/choose
  - POST /games/dice/roll
  - GET /games/story/{storyId}/endings

âœ“ Ratings (2)
  - POST /ratings
  - GET /ratings/story/{storyId}

âœ“ Reports (1)
  - POST /reports

âœ“ Statistics (2)
  - GET /statistics/story/{storyId}
  - GET /statistics/author/{authorId}

âœ“ Admin (4)
  - GET /admin/users
  - PUT /admin/users/{id}/ban
  - PUT /admin/stories/{id}/suspend
  - GET /admin/dashboard

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ ACCÃˆS Ã€ LA DOCUMENTATION

â”Œâ”€ DÃ‰VELOPPEURS FRONTEND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ URL: http://localhost:5000/api-docs                         â”‚
â”‚ âœ“ Interface interactive                                     â”‚
â”‚ âœ“ Testable directement                                      â”‚
â”‚ âœ“ AutocomplÃ©tion                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ SPÃ‰CIFICATION OPENAPI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ URL: http://localhost:5000/swagger.json                     â”‚
â”‚ Format: JSON (OpenAPI 3.0)                                  â”‚
â”‚ Usage: IntÃ©grations tierces, gÃ©nÃ©ration de code            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ COLLECTION POSTMAN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Fichier: backend/NAHB_API.postman_collection.json          â”‚
â”‚ âœ“ 30+ requÃªtes prÃ©-configurÃ©es                             â”‚
â”‚ âœ“ Variables globales                                       â”‚
â”‚ âœ“ Import direct dans Postman                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ GUIDES DE DOCUMENTATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ - SWAGGER_READY.md (LIRE EN PREMIER â­)                    â”‚
â”‚ - QUICKSTART_SWAGGER.md (DÃ©marrage rapide)                 â”‚
â”‚ - SWAGGER_GUIDE.md (Documentation complÃ¨te)                â”‚
â”‚ - INTEGRATION_GUIDE.md (Configuration avancÃ©e)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ INSTALLATION RAPIDE

# Ã‰tape 1: Installer les dÃ©pendances
cd backend
npm install

# Ã‰tape 2: CrÃ©er le .env
echo "PORT=5000" > .env
echo "MONGODB_URI=mongodb://localhost:27017/nahb" >> .env

# Ã‰tape 3: Lancer le serveur
npm run dev

# Ã‰tape 4: Ouvrir dans le navigateur
# http://localhost:5000/api-docs

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… VÃ‰RIFICATION

./check_swagger.sh      # VÃ©rifier la configuration (Linux/Mac)
node test-swagger.js    # Tester la configuration (Node.js)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ PREMIER TEST

1. S'inscrire:
   POST /api/auth/register
   {
     "username": "testuser",
     "email": "test@example.com",
     "password": "TestPass123!",
     "role": "author"
   }

2. Se connecter:
   POST /api/auth/login
   {
     "email": "test@example.com",
     "password": "TestPass123!"
   }
   â†’ Copier le token

3. Autoriser dans Swagger UI:
   - Cliquer "Authorize"
   - Entrer: Bearer <token>
   - Cliquer "Authorize"

4. Tester un endpoint:
   - Cliquer sur un endpoint
   - "Try it out"
   - "Execute"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š STATISTIQUES

Fichiers CrÃ©Ã©s: 10
Fichiers ModifiÃ©s: 2
Endpoints DocumentÃ©s: 35+
Lignes de Documentation: 2000+
Exemples: 50+
SchÃ©mas: 13
CatÃ©gories: 11

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ PROCHAINES Ã‰TAPES

1. âœ“ Lire: SWAGGER_READY.md (rÃ©sumÃ©)
2. âœ“ Installer: npm install
3. âœ“ Lancer: npm run dev
4. âœ“ AccÃ©der: http://localhost:5000/api-docs
5. âœ“ Tester: Faire un login + un endpoint
6. âœ“ Importer Postman: NAHB_API.postman_collection.json

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ CONSEILS

âœ“ Commencer par SWAGGER_READY.md
âœ“ Utiliser Swagger UI pour prÃ©senter
âœ“ Importer Postman pour tester
âœ“ Consulter SWAGGER_GUIDE.md pour les dÃ©tails
âœ“ Lancer test-swagger.js si problÃ¨mes

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‰ STATUS

âœ… DOCUMENTATION SWAGGER COMPLÃˆTE ET PRÃŠTE Ã€ L'EMPLOI!

AccÃ©dez Ã : http://localhost:5000/api-docs

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CrÃ©Ã© le: 28 Novembre 2025
Auteur: GitHub Copilot
Version: 1.0.0
Statut: âœ… PRODUCTION-READY
